<div class="container_header">
    <div class="container_header_rightside">
        <ul>
            <li>
                <a href="#showAllUsersTabs" [ngClass]="{'active-tab':!showRoles,'inactive-tab':showRoles}" (click)="showRolesTab()">All Users</a>
            </li>
            <li>
                <a href="#showUserRoles" [ngClass]="{'active-tab':showRoles,'inactive-tab':!showRoles}" (click)="showRolesTab()">Roles</a>
            </li>
        </ul>
    </div>
    <div class="container_header_leftside">
        <ul>
            <li>
                <a class="btn_invite" (click)="openinviteUser('inviteUser')" href="#openModal-about">Invite
                    User</a>
                <!--  <button class="btn btn-primary"  style=" background-color: #2fa3e6;">Invite
                    User</button> -->
            </li>
        </ul>
    </div>
</div>

<table *ngIf="!showRoles" id="ember494" class="table" style="font-weight:  300;">
    <thead>
        <tr style="border-bottom: 1px solid #f0f0f0;">
            <!---->
            <th class=" text-left  sortable " style="width:50%;     color: #d64830!important; padding-left: 30px;font-weight: 500; ">
                <div class="position-relative ">
                    <div class="float-left over-flow" title="User Details">User Details
                        <!---->
                    </div>
                    <!---->
                </div>
            </th>
            <th class=" text-left desc sortable " style="width:25%;">
                <div class="position-relative mr-4">
                    <div class="float-left over-flow" title="Role">Role
                        <!---->
                    </div><span class="sort d-print-none "></span>
                </div>
            </th>
            <th class="text-left">
                <div class="position-relative ">
                    <div class="float-left over-flow">
                        <!---->
                    </div>
                    <!---->
                </div>
            </th>
            <!---->
        </tr>
    </thead>
    <tbody>
        <tr id="ember568" class="table-active ember-view" *ngFor="let usersInfo of userList">

            <td (click)="selectedUser =usersInfo; mySettingsOpen();" class="cursor-pointer">
                <img class="rounded-circle users-thumbnail" src="../../../../assets/images/pic.png">
                <div class="user-details-row text-ellipsis" style="max-width: 70%">
                    <a href="#/settings/users/636665000000013001?sort_column=name&amp;sort_order=A" id="ember569" style="font-weight: 500; cursor: pointer;" class="ember-view">{{usersInfo.fullname}}</a>
                    <small *ngIf="usersInfo.is_active === 1 && usersInfo.invite_accepted === 1" style="margin-left: 5px; font-size: 10px;" class="text-success">(Active)</small>
                    <small *ngIf="usersInfo.is_active === 1 && usersInfo.invite_accepted === 0" style="margin-left: 5px; font-size: 10px;" class="text-success">(Invited)</small>
                    <small *ngIf="usersInfo.is_active === 0" style="margin-left: 5px; font-size: 10px; color: red; cursor: pointer;">(InActive)</small>
                    <br>
                    <span style="color: black; cursor: pointer;" title="kanchan.sanswebsolutions@gmail.com">{{usersInfo.email}}</span>
                    <br>
                    <!---->
                </div>
            </td>

            <td style="vertical-align: middle; cursor: pointer;" (click)="selectedUser =usersInfo; mySettingsOpen();" class="cursor-pointer">
                {{usersInfo.role}}
            </td>

            <!---->
            <td style="vertical-align: middle;" (click)="mySettingsOpen(); selectedUser = usersInfo;"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 512 512" xml:space="preserve" class="icon icon-sm align-middle cursor-pointer">
                </svg>
            </td>
            <td style="vertical-align: middle; cursor: pointer;" (click)="selectedUser =usersInfo; mySettingsOpen();">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 512 512" xml:space="preserve" class="icon icon-sm align-middle cursor-pointer">

                    <path
                        d="M258.3 149.8c-57.3 0-103.9 46.6-103.9 103.9 0 57.3 46.6 103.9 103.9 103.9s104-46.6 104-103.9c0-57.3-46.6-103.9-104-103.9zm0 175.9c-39.7 0-71.9-32.3-71.9-71.9 0-39.7 32.3-71.9 71.9-71.9 39.7 0 71.9 32.3 71.9 71.9.1 39.6-32.2 71.9-71.9 71.9z">
                    </path>
                    <path
                        d="M491.4 202.9l-38.7-14c-3-9.5-6.6-18.6-10.7-27.1l18.3-38.3c5.6-11.8 3.2-26-6-35.2l-30.5-30.6c-9.3-9.3-23.4-11.7-35.2-6.1l-38.2 18.1c-8.1-3.8-16.7-7.1-27.1-10.3l-14-38.7C304.9 8.5 293.2.4 280.2.4h-43.6c-12.9 0-24.6 8.2-29.1 20.4l-14.1 38.8c-9.7 3.1-18.8 6.7-27.1 10.7l-38.2-18.4c-11.8-5.6-26-3.2-35.2 6L62.1 88.3c-9.3 9.3-11.7 23.5-6 35.3l18 37.8c-5.2 9.8-9.2 18.7-12.2 27l-40.8 14.2C8.6 207 .2 218.7.2 232v43.3c0 13.2 8.4 25 20.7 29.2l40.9 14.3c3.1 8.8 6.9 17.7 11.7 27.1L55.6 384c-5.6 11.9-3.2 26 6.2 35.2L92.6 450c9.2 9.2 23.4 11.7 35.2 6l38.1-18.1c9.7 5.2 18.6 9.2 27.1 12.2l14.2 40.8c4.3 12.5 16 20.8 29.3 20.8h43.3c13.2 0 25-8.4 29.3-20.8l14.2-40.9c8.9-3.1 18-7 27.1-11.7l38.1 17.9c11.8 5.6 26 3.1 35.3-6.2l30.7-30.9c9.2-9.2 11.6-23.3 6-35.2l-18.2-38.4c3.8-8 7.1-16.6 10.3-27.1l38.6-14c12.3-4.3 20.6-16 20.6-29V232c0-13-8.2-24.7-20.4-29.1zm-11.6 71.8l-38.5 14c-9.2 3.3-16.1 10.6-19 19.9v.1c-2.8 9.3-5.7 16.8-8.9 23.5-4.1 8.5-4.2 18.3-.1 26.7l18.2 38.3-29.7 29.9-38-17.9c-8.9-4.1-18.8-4-27.3.5-8 4.1-16 7.6-23.7 10.3-8.9 2.9-16.1 10.1-19.3 19.1l-14.2 40.7h-41.8L223.2 439c-3.1-8.9-10-15.9-19-19-7.3-2.6-15-6.1-23.7-10.7s-19.1-4.8-27.9-.6l-37.9 18-29.9-29.8 17.9-37.9c4.1-8.9 4-18.9-.5-27.3-4.3-8.3-7.7-16.1-10.3-23.9-3.1-8.9-10.2-16-19.1-19.1l-40.6-14.2v-41.8l40.7-14.2c8.9-3.1 15.9-10 19-18.9 2.5-7 6-14.7 10.7-23.5 4.6-8.6 4.9-19 .6-27.9l-18-37.8L115 80.9l38 18.3c8.5 4.1 18.6 4 27.1-.2 7.1-3.5 15.1-6.6 23.6-9.3 9-2.9 16.3-9.9 19.6-19l14-38.5h42.1l13.9 38.4c3.3 9.2 10.6 16.1 19.9 19h.1c9.2 2.8 16.6 5.6 23.4 8.9 8.6 4.1 18.3 4.1 26.8.1l38-18 29.5 29.6-18.2 38-.1.2c-4 8.7-4 18.5.2 26.9 3.6 7.4 6.7 15.3 9.3 23.5 2.7 9 9.8 16.4 18.9 19.8l38.5 14v42.1z">
                    </path>
                </svg>
            </td>
        </tr>
        <!---->
    </tbody>
</table>

<ngx-spinner bdColor="rgba(0,0,0,0.4)" size="default" color="#fff" type="ball-elastic-dots" [fullScreen]="true">
</ngx-spinner>

<!--invite modals-->
<div id="openModal-about" *ngIf="!showRoles && this.inviteuserModel" class="modalDialog">
    <div>
        <div class="modal-content ">
            <div id="ember360" class="modal-header ember-view">
                <h4 class="modal-title" style="font-size:1.1rem; font-weight:400; color: #000;">
                    {{editUserDetails?'Edit':'Invite'}} User </h4>
                <a id="inviteModal" #inviteModal href="#close" title="Close" class="close no-outline"><b>&#x2715;</b></a>
            </div>

            <form [formGroup]="inviteuserForm" (ngSubmit)="onSubmit()">
                <div class="modal-body">
                    <div tabindex="-1" id="ember362" class="no-outline ember-view">

                    </div>
                    <div class="row">
                        <div class="col-lg-7"><label class="col-form-label required">Name*</label>
                            <input formControlName="fullname" [ngClass]="{ 'is-invalid': submitted && f.fullname.errors }" class=" form-control ember-text-field ember-view " type="text">
                            <div *ngIf="submitted && f.fullname.errors" class="errColor invalid-feedback">
                                <div *ngIf="f.fullname.errors.required">Full Name is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-7"><label class="col-form-label required">Email Address*</label>
                            <input formControlName="email" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" autofocus="" id="ember363" class=" form-control ember-text-field  ember-view" type="text">
                            <div *ngIf="submitted && f.email.errors" class="errColor invalid-feedback">
                                <div *ngIf="f.email.errors.required">Email Address is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="!editUserDetails">
                        <div class="col-lg-7"><label class="col-form-label required">Password*</label>
                            <input formControlName="password" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" autofocus="" id="ember363" class=" form-control ember-text-field  ember-view" type="password">
                            <div *ngIf="submitted && f.password.errors" class="errColor invalid-feedback">
                                <div *ngIf="f.password.errors.required">Password is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-7"><label class="col-form-label">Role</label>
                            <span class="d-flex flex-row primary_cont">
                                <select formControlName="role" name="role" (change)="selected()"
                                    class="ember-text-field ember-view form-control">
                                    <option value=""> Select Role</option>
                                    <option *ngFor="let ro of roleList" [value]="ro">
                                        {{ ro }}
                                    </option>
                                </select>
                                <br>
                            </span>
                            <span class="form-text" style="margin-bottom: 0;  font-size: 14px;" *ngIf="selectedRole">{{selectedRole}} role
                                selected.</span>
                        </div>

                    </div>


                </div>
                <div class="modal-footer">
                    <button id="ember366" class="btn btn-primary ember-view primary_btn_check">Send</button>
                    <button class="close btn btn-secondary" title="Close"><a href="#close">Cancel</a></button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- setting Click -->
<div class="profile_info" id="myProfile" *ngIf="!showRoles && this.settingspage">
    <div class="fill user-details">
        <div class="user-details-header">
            <span (click)="mySettingsClose()" class="close-details mt-3" data-ember-action="" data-ember-action-624="624">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 512 512"
                    xml:space="preserve" class="icon icon-xs">
                    <path
                        d="M455.2 9.2L256 208.4 56.8 9.2C44.5-3.1 24.6-3.1 12.2 9.2l-2.9 2.9C-3 24.4-3 44.4 9.3 56.7L208.4 256 9.2 455.2c-12.3 12.3-12.3 32.3 0 44.6l2.9 2.9c12.3 12.3 32.3 12.3 44.6 0L256 303.6l199.2 199.2c12.3 12.3 32.3 12.3 44.6 0l2.9-2.9c12.3-12.3 12.3-32.3 0-44.6L303.6 256 502.8 56.8c12.3-12.3 12.3-32.3 0-44.6l-2.9-2.9c-12.5-12.4-32.4-12.4-44.7-.1z">
                    </path>
                </svg>
            </span>
            <div class="btn-toolbar float-right mr-5 mt-3">
                <button id="ember625" class="btn_invite" type="submit" style="margin: 0px 10px;">
                    <a style="color: #fff;" (click)="selectedUseredit=selectedUser;openinviteUser('editUser')"
                        href="#openModal-about">
                        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0"
                            viewBox="0 0 512 512" xml:space="preserve" class="icon icon-xs fill-white">
                            <path
                                d="M469.6 42.4C420.9-6.2 382.3-.2 378.1.7l-4.8 1L42.1 332.8c-3.4 3.4-5.8 7.8-6.8 12.5L1.3 506c-.6 2.8 1.9 5.3 4.7 4.7l160.7-34.1c4.7-1 9.1-3.4 12.5-6.8l331.2-331.2.9-4.9c.9-4.1 6.7-42.8-41.7-91.3zM43.2 464l20.2-95.2c.5-2.3 2.8-3.7 5.1-3 12.4 3.9 29.7 12 46.3 28.6 17.1 17.1 26 35.8 30.5 49.2.8 2.3-.6 4.7-3 5.2l-94.4 20c-2.8.6-5.3-1.9-4.7-4.8zm135.6-39.4c-2 2-5.4 1.3-6.5-1.3-6.5-15.6-17.1-34.3-34.6-51.8C121.2 355 104 345 89.4 339c-2.6-1.1-3.3-4.5-1.3-6.5l150.8-150.8 95.5-95.5c1-1 2.3-1.4 3.7-1.1 11.8 2.5 34.1 9.9 55.1 30.9 21.4 21.4 29.9 45.4 33.2 58.2.3 1.4 0 2.8-1 3.8l-95.1 95.1-151.5 151.5zm278.4-278.4c-2 2-5.4 1.3-6.5-1.3-6.5-15.6-17.1-34.3-34.6-51.8-16.5-16.5-33.7-26.5-48.3-32.5-2.6-1.1-3.3-4.5-1.3-6.5L387 33.7c.9-.9 2-1.3 3.2-1.2 9.8 1 30.3 6.6 56.5 32.8 26.2 26.2 31.8 46.8 32.8 56.5.1 1.2-.3 2.4-1.2 3.2l-21.1 21.2z">
                            </path>
                        </svg>
                        Edit</a>
                </button>
                <div id="ember626" class="dropdown ember-view btn-group align-self-center ml-auto"><span id="ember627" class=" "> <label class="dropdown">
                            <div class="dd-button dropdown-toggle ember-view btn btn-secondary">
                                more
                            </div>

                            <input type="checkbox" class="dd-input" id="test">

                            <ul class="dd-menu">
                                <li (click)="toggleUser(); mySettingsClose();">Mark as {{ selectedUser.is_active ?
                                    'Inactive' : 'Active'}}
                                </li>
                                <li (click)="deleteUser(); mySettingsClose();">Delete</li>
                            </ul>

                        </label> </span>

                </div>
            </div>
            <div class="user-pro mt-5 clearfix"><img class="rounded-circle users-thumbnail" src="https://contacts.zoho.in/file?t=user&amp;ID=60010423895&amp;fs=thumb" style="margin-top: -5%;    width: 75px; height: 75px;">
                <div class="user-details-row" style="margin-top: -5%;">
                    <div class="over-flow font-xlarge" style="margin-bottom: 5px;">
                        <span style="font-weight: 400; font-size: 13px;">{{selectedUser?.fullname}}</span>
                        <span *ngIf="selectedUser?.invite_accepted === 1" class="badge text-semibold badge-success font-normal align-text-top">Active</span>
                        <span *ngIf="selectedUser?.invite_accepted === 0" class="badge text-semibold badge-success font-normal align-text-top">Invited</span>
                    </div>
                    <div class="text-muted over-flow">{{selectedUser.email}}</div>
                    <div class="mt-4"> Role: {{selectedUser.role}}
                    </div>
                </div>
            </div>
        </div>
        <div class="sub-tab">
            <ul class="nav nav-tabs nav-tabs-dashed">
                <li id="ember386" class="active ember-view nav-item"><a href="" id="ember387" class="active ember-view nav-link">More Details</a></li>
                <li id="ember388" class="ember-view nav-item"><a href="" id="ember389" class="ember-view nav-link">Recent Activities</a></li>

            </ul>
        </div>
        <div class="scroll-y noscroll-x fill body user-details-body">
            <div class="w-50">
                <div class="font-large text-semibold mb-5">Custom Fields</div>
                <p class="text-center text-muted py-7">You haven't added any custom field information.</p>
            </div>
            <!---->
        </div>
    </div>
</div>

<!-- edit modals -->

<div *ngIf="showRoles" id="showUserRoles">
    <table id="ember497" class="table tableUsersRoles zi-table usersRolesTable table-hover ember-view zb-navs-tabs-table">
        <thead>
            <tr>
                <!---->
                <th class=" text-left asc sortable " style="width:30%;">
                    <div class="position-relative mr-4">
                        <div class="float-left over-flow" title="Role Name" style="color: #bb3b25;">Role Name
                            <!---->
                        </div><span class="sort d-print-none "></span>
                    </div>
                </th>
                <th class=" text-left  sortable " style="width:30%;">
                    <div class="position-relative ">
                        <div class="float-left over-flow" title="Description">Description
                            <!---->
                        </div>
                        <!---->
                    </div>
                </th>
                <th class=" text-left   " style="width:40%;">
                    <div class="position-relative ">
                        <div class="float-left over-flow">
                            <!---->
                        </div>
                        <!---->
                    </div>
                </th>
                <!---->
            </tr>
        </thead>
        <tbody>
            <tr data-ember-action="" data-ember-action-502="502">
                <td><a href="#">Admin</a></td>
                <td>Unrestricted access to all modules.</td>
                <td class="text-center">
                    <div class="btn-group">
                        <!---->
                    </div>
                </td>
            </tr>
            <tr data-ember-action="" data-ember-action-504="504">
                <td><a href="#">Staff</a></td>
                <td>Access to all modules except reports and settings.</td>
                <td class="text-center">
                    <div class="btn-group">
                        <!---->
                    </div>
                </td>
            </tr>
            <tr data-ember-action="" data-ember-action-506="506">
                <td><a href="#">Staff - Assigned Customers Only</a></td>
                <td>Access to all modules, transactions and data of assigned customers except reports and settings.</td>
                <td class="text-center">
                    <div class="btn-group">
                        <!---->
                    </div>
                </td>
            </tr>
            <tr data-ember-action="" data-ember-action-508="508">
                <td><a href="#">TimesheetStaff</a></td>
                <td>TimesheetStaff Role</td>
                <td class="text-center">
                    <div class="btn-group">
                        <!---->
                    </div>
                </td>
            </tr>
            <!---->
        </tbody>
    </table>
</div>